<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IPTV Player - 设置</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="container">
    <h1>IPTV Player 设置</h1>

    <nav class="tabs">
      <button class="tab-btn active" data-tab="tab-channels">频道管理</button>
      <button class="tab-btn" data-tab="tab-settings">播放设置</button>
      <button class="tab-btn" data-tab="tab-about">关于</button>
    </nav>

    <main>
      <!-- 频道管理标签页 -->
      <div id="tab-channels" class="tab-content active">
        <div class="tab-header">
          <h2>频道管理</h2>
          <span id="channel-count">总计: 0 个频道</span>
        </div>

        <div class="actions">
          <button id="import-options-btn">📁 导入 M3U 文件</button>
          <button id="clear-channels-btn">🗑️ 清空所有频道</button>
          <input type="file" id="file-input-options" accept=".m3u,.m3u8" style="display: none;">
        </div>

        <div class="search-filter">
          <input type="text" id="channel-search" placeholder="搜索频道...">
          <select id="group-filter">
            <option value="">全部分组</option>
          </select>
        </div>

        <div class="table-container">
          <table id="channels-table">
            <thead>
              <tr>
                <th>序号</th>
                <th>频道名</th>
                <th>分组</th>
                <th>URL</th>
                <th>操作</th>
              </tr>
            </thead>
            <tbody>
              <!-- 频道列表将在这里动态渲染 -->
            </tbody>
          </table>
        </div>
      </div>

      <!-- 播放设置标签页 -->
      <div id="tab-settings" class="tab-content">
        <h2>播放设置</h2>

        <div class="form-group">
          <label for="default-quality">默认画质：</label>
          <select id="default-quality">
            <option value="auto">自动</option>
            <option value="720p">720p</option>
            <option value="1080p">1080p</option>
          </select>
        </div>

        <div class="form-group">
          <label>
            <input type="checkbox" id="auto-play">
            自动播放
          </label>
        </div>

        <div class="form-group">
          <label for="default-volume">默认音量：<span id="volume-value">80</span></label>
          <input type="range" id="default-volume" min="0" max="100" value="80">
        </div>

        <div class="form-group">
          <p class="hint">设置会自动保存</p>
        </div>
      </div>

      <!-- 关于标签页 -->
      <div id="tab-about" class="tab-content">
        <h2>关于</h2>

        <div class="about-content">
          <p><strong>IPTV Player</strong></p>
          <p>版本: <span id="extension-version">-</span></p>
          <p>一款轻量级的 IPTV 播放器扩展，支持导入 M3U 播放列表并播放 M3U8 直播流。</p>

          <h3>技术栈</h3>
          <ul>
            <li>Vanilla JavaScript ES6+（无框架）</li>
            <li>HLS.js（M3U8 播放支持）</li>
            <li>Chrome Extension Manifest V3</li>
          </ul>

          <h3>功能特性</h3>
          <ul>
            <li>M3U 文件导入</li>
            <li>M3U8 流媒体播放</li>
            <li>频道列表管理与搜索</li>
            <li>播放历史记录</li>
            <li>键盘快捷键支持</li>
          </ul>
        </div>
      </div>
    </main>
  </div>

  <script type="module" src="../shared/constants.js"></script>
  <script type="module" src="../shared/storage.js"></script>
  <script type="module" src="../shared/m3u-parser.js"></script>
  <script type="module" src="options.js"></script>
</body>
</html>
